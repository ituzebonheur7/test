<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Settings - Ituze</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="icon" href="settings.png" type="image/png">
  <link rel="stylesheet" href="shared.css">
  <link rel="stylesheet" href="settings.css">
</head>
<body class="settings-page">
  <canvas id="matrix"></canvas>
  
  <div class="settings-container glass">
    <h1>System Settings</h1>
    
    <div class="settings-card">
      <label for="themeColorPicker">Accent Color</label>
      <input type="color" id="themeColorPicker" class="big-input">
      <p>This will change the color of buttons and glow on all pages.</p>
    </div>

    <div class="settings-card">
      <label for="matrixToggle">Matrix Background</label>
      <input type="checkbox" id="matrixToggle" class="big-checkbox">
      <span>Enable Matrix Rain across all pages</span>
    </div>

    <button onclick="saveAll()" class="save-btn">Apply Changes</button>
  </div>

  <script src="core.js"></script>
  <script>
      const themeColorPicker = document.getElementById('themeColorPicker');
      const matrixToggle = document.getElementById('matrixToggle');

      function loadSettings() {
          const settings = JSON.parse(localStorage.getItem('ituzeSettings')) || {};
          themeColorPicker.value = settings.customColor || '#00ff9c';
          matrixToggle.checked = !settings.matrix;
      }

      function saveAll() {
          const settings = JSON.parse(localStorage.getItem('ituzeSettings')) || {};
          settings.customColor = themeColorPicker.value;
          settings.matrix = !matrixToggle.checked;
          localStorage.setItem('ituzeSettings', JSON.stringify(settings));
          applyGlobalSettings();
          alert('Settings saved!');
      }

      window.addEventListener('load', loadSettings);
  </script>
</body>
</html>